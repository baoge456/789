<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dockeréƒ¨ç½²WireGuard VPNæ•™ç¨‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #1a1a2e;
            color: #e6e6e6;
            line-height: 1.6;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: linear-gradient(135deg, #162747 0%, #1a1a2e 100%);
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #4cc9f0;
            text-shadow: 0 2px 5px rgba(76, 201, 240, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #a0a0a0;
            margin-bottom: 20px;
        }
        
        .logo {
            font-size: 3rem;
            margin-bottom: 20px;
            color: #4cc9f0;
        }
        
        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .card {
            background: #162747;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .card h2 {
            color: #4cc9f0;
            margin-bottom: 15px;
            font-size: 1.5rem;
            border-bottom: 2px solid #4cc9f0;
            padding-bottom: 10px;
        }
        
        .card-content {
            min-height: 200px;
        }
        
        .code-block {
            background: #0d1b2a;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            color: #8ac926;
            border-left: 4px solid #4cc9f0;
        }
        
        .code-block code {
            display: block;
            white-space: pre-wrap;
        }
        
        .step {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 50px;
            position: relative;
        }
        
        .step:before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #4cc9f0;
            color: #162747;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .note {
            background: #2c3e50;
            border-left: 4px solid #f72585;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .warning {
            background: #4a235a;
            border-left: 4px solid #ff9e00;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #a0a0a0;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .cards {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">ğŸ³</div>
            <h1>Dockeréƒ¨ç½²WireGuard VPNæ•™ç¨‹</h1>
            <p class="subtitle">å¿«é€Ÿæ­å»ºå®‰å…¨ã€é«˜æ•ˆçš„VPNæœåŠ¡</p>
        </header>
        
        <div class="cards">
            <div class="card">
                <h2>ä»€ä¹ˆæ˜¯WireGuard?</h2>
                <div class="card-content">
                    <p>WireGuardæ˜¯ä¸€ç§ç°ä»£VPNåè®®ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
                    <ul style="padding-left: 20px; margin-top: 10px;">
                        <li>æé«˜çš„æ€§èƒ½</li>
                        <li>ç®€æ´çš„ä»£ç åº“ï¼ˆçº¦4000è¡Œä»£ç ï¼‰</li>
                        <li>å¼ºå¤§çš„åŠ å¯†æŠ€æœ¯</li>
                        <li>æ˜“äºé…ç½®å’Œä½¿ç”¨</li>
                        <li>è·¨å¹³å°æ”¯æŒ</li>
                    </ul>
                    <p style="margin-top: 15px;">ä½¿ç”¨Dockeréƒ¨ç½²å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–å®‰è£…å’Œç®¡ç†è¿‡ç¨‹ã€‚</p>
                </div>
            </div>
            
            <div class="card">
                <h2>å‡†å¤‡å·¥ä½œ</h2>
                <div class="card-content">
                    <p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š</p>
                    <ul style="padding-left: 20px; margin-top: 10px;">
                        <li>å·²å®‰è£…Dockerå’ŒDocker Compose</li>
                        <li>æ‹¥æœ‰ä¸€ä¸ªLinuxæœåŠ¡å™¨ï¼ˆUbuntu/CentOSç­‰ï¼‰</li>
                        <li>æœåŠ¡å™¨é˜²ç«å¢™å¼€æ”¾UDPç«¯å£51820</li>
                        <li>å…·æœ‰rootæˆ–sudoæƒé™</li>
                    </ul>
                    <p style="margin-top: 15px;">å»ºè®®ä½¿ç”¨è‡³å°‘1GBå†…å­˜çš„æœåŠ¡å™¨ä»¥è·å¾—æœ€ä½³æ€§èƒ½ã€‚</p>
                </div>
            </div>
            
            <div class="card">
                <h2>éƒ¨ç½²æ­¥éª¤æ¦‚è§ˆ</h2>
                <div class="card-content">
                    <ol style="padding-left: 20px;">
                        <li>å®‰è£…Dockerå’ŒDocker Compose</li>
                        <li>åˆ›å»ºdocker-compose.ymlæ–‡ä»¶</li>
                        <li>é…ç½®WireGuardç¯å¢ƒå˜é‡</li>
                        <li>å¯åŠ¨WireGuardå®¹å™¨</li>
                        <li>è·å–å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</li>
                        <li>è¿æ¥æµ‹è¯•</li>
                    </ol>
                    <p style="margin-top: 15px;">æ•´ä¸ªè¿‡ç¨‹å¤§çº¦éœ€è¦10-15åˆ†é’Ÿå®Œæˆã€‚</p>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>è¯¦ç»†éƒ¨ç½²æ­¥éª¤</h2>
            <div class="card-content">
                <div class="step">
                    <h3>å®‰è£…Dockerå’ŒDocker Compose</h3>
                    <p>å¦‚æœå°šæœªå®‰è£…ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
                    <div class="code-block">
                        <code># å®‰è£…Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sh get-docker.sh

# å®‰è£…Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/download/v2.20.0/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# éªŒè¯å®‰è£…
docker --version
docker-compose --version</code>
                    </div>
                </div>
                
                <div class="step">
                    <h3>åˆ›å»ºéƒ¨ç½²ç›®å½•å’Œé…ç½®æ–‡ä»¶</h3>
                    <p>åˆ›å»ºä¸€ä¸ªæ–°ç›®å½•å¹¶åˆ›å»ºdocker-compose.ymlæ–‡ä»¶ï¼š</p>
                    <div class="code-block">
                        <code># åˆ›å»ºç›®å½•
mkdir wireguard-docker && cd wireguard-docker

# åˆ›å»ºdocker-compose.ymlæ–‡ä»¶
nano docker-compose.yml</code>
                    </div>
                </div>
                
                <div class="step">
                    <h3>ç¼–è¾‘docker-compose.ymlæ–‡ä»¶</h3>
                    <p>å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°docker-compose.ymlæ–‡ä»¶ä¸­ï¼š</p>
                    <div class="code-block">
                        <code>version: '3.8'

services:
  wireguard:
    image: lscr.io/linuxserver/wireguard:latest
    container_name: wireguard
    cap_add:
      - NET_ADMIN
      - SYS_MODULE
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Asia/Shanghai
      - SERVERURL=your-server-domain.com  # æ”¹ä¸ºä½ çš„æœåŠ¡å™¨IPæˆ–åŸŸå
      - SERVERPORT=51820
      - PEERS=3  # è¦åˆ›å»ºçš„å®¢æˆ·ç«¯é…ç½®æ•°é‡
      - PEERDNS=1.1.1.1
      - INTERNAL_SUBNET=10.13.13.0
    volumes:
      - ./config:/config
      - /lib/modules:/lib/modules
    ports:
      - 51820:51820/udp
    restart: unless-stopped</code>
                    </div>
                    <div class="note">
                        <p><strong>æ³¨æ„ï¼š</strong> è¯·å°†<code>your-server-domain.com</code>æ›¿æ¢ä¸ºä½ çš„æœåŠ¡å™¨å®é™…IPåœ°å€æˆ–åŸŸåã€‚</p>
                    </div>
                </div>
                
                <div class="step">
                    <h3>å¯åŠ¨WireGuardå®¹å™¨</h3>
                    <p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨WireGuardæœåŠ¡ï¼š</p>
                    <div class="code-block">
                        <code># å¯åŠ¨å®¹å™¨ï¼ˆåœ¨åå°è¿è¡Œï¼‰
docker-compose up -d

# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs</code>
                    </div>
                </div>
                
                <div class="step">
                    <h3>è·å–å®¢æˆ·ç«¯é…ç½®æ–‡ä»¶</h3>
                    <p>é…ç½®æ–‡ä»¶å°†ç”Ÿæˆåœ¨configç›®å½•ä¸­ï¼š</p>
                    <div class="code-block">
                        <code># æŸ¥çœ‹ç”Ÿæˆçš„å®¢æˆ·ç«¯é…ç½®
ls config/peer*

# æŸ¥çœ‹peer1çš„é…ç½®
cat config/peer1/peer1.conf

# æˆ–ä½¿ç”¨QRç ï¼ˆå¦‚æœæ”¯æŒï¼‰
docker exec -it wireguard qrencode -t ansiutf8 -r /config/peer1/peer1.conf</code>
                    </div>
                    <div class="note">
                        <p><strong>æç¤ºï¼š</strong> æ¯ä¸ªpeeræ–‡ä»¶å¤¹åŒ…å«ä¸€ä¸ª.confæ–‡ä»¶å’Œä¸€ä¸ªQRç å›¾ç‰‡ï¼Œå¯ç”¨äºç§»åŠ¨è®¾å¤‡å¿«é€Ÿè¿æ¥ã€‚</p>
                    </div>
                </div>
                
                <div class="step">
                    <h3>å®¢æˆ·ç«¯è¿æ¥</h3>
                    <p>æ ¹æ®ä½ çš„è®¾å¤‡ç±»å‹ï¼Œé€‰æ‹©ç›¸åº”æ–¹å¼è¿æ¥ï¼š</p>
                    <ul style="padding-left: 20px; margin-top: 10px;">
                        <li><strong>Windows/Macï¼š</strong> ä¸‹è½½å®˜æ–¹WireGuardå®¢æˆ·ç«¯ï¼Œå¯¼å…¥.confæ–‡ä»¶</li>
                        <li><strong>Android/iOSï¼š</strong> å®‰è£…WireGuardåº”ç”¨ï¼Œæ‰«æQRç æˆ–å¯¼å…¥é…ç½®æ–‡ä»¶</li>
                        <li><strong>Linuxï¼š</strong> å®‰è£…WireGuardï¼Œä½¿ç”¨å‘½ä»¤<code>wg-quick up /path/to/config.conf</code></li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2>ç®¡ç†å‘½ä»¤å’Œæ•…éšœæ’é™¤</h2>
            <div class="card-content">
                <h3>å¸¸ç”¨ç®¡ç†å‘½ä»¤</h3>
                <div class="code-block">
                    <code># æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs

# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æ·»åŠ æ›´å¤šå®¢æˆ·ç«¯
# ç¼–è¾‘docker-compose.ymlå¢åŠ PEERSæ•°é‡ï¼Œç„¶åé‡å¯
docker-compose down
docker-compose up -d</code>
                </div>
                
                <h3>å¸¸è§é—®é¢˜è§£å†³</h3>
                <div class="warning">
                    <p><strong>è¿æ¥é—®é¢˜ï¼š</strong> ç¡®ä¿æœåŠ¡å™¨é˜²ç«å¢™å·²å¼€æ”¾UDPç«¯å£51820</p>
                </div>
                <div class="warning">
                    <p><strong>å®¹å™¨å¯åŠ¨å¤±è´¥ï¼š</strong> æ£€æŸ¥æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸æ˜¯æƒé™æˆ–æ¨¡å—é—®é¢˜</p>
                </div>
                <div class="warning">
                    <p><strong>æ— æ³•è®¿é—®äº’è”ç½‘ï¼š</strong> æ£€æŸ¥æœåŠ¡å™¨çš„IPè½¬å‘è®¾ç½®ï¼Œç¡®ä¿å·²å¯ç”¨</p>
                </div>
                
                <h3>å¯ç”¨IPè½¬å‘</h3>
                <p>å¦‚æœVPNå®¢æˆ·ç«¯æ— æ³•è®¿é—®äº’è”ç½‘ï¼Œå¯èƒ½éœ€è¦å¯ç”¨IPè½¬å‘ï¼š</p>
                <div class="code-block">
                    <code># ç¼–è¾‘sysctl.confæ–‡ä»¶
echo "net.ipv4.ip_forward = 1" | sudo tee -a /etc/sysctl.conf

# åº”ç”¨æ›´æ”¹
sudo sysctl -p</code>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Â© 2023 Docker WireGuard VPNæ•™ç¨‹ | æœ¬æ•™ç¨‹ä»…ä¾›å‚è€ƒï¼Œè¯·éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„ä½¿ç”¨VPNæœåŠ¡</p>
        </footer>
    </div>
</body>
</html>