<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firefly III éƒ¨ç½²æ•™ç¨‹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .section {
            background: white;
            padding: 30px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .section h3 {
            color: #555;
            margin: 20px 0 10px 0;
        }
        
        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .step {
            background: #e8f4fd;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-left: 4px solid #fdcb6e;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .danger {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        .table th {
            background: #667eea;
            color: white;
        }
        
        .table tr:nth-child(even) {
            background: #f2f2f2;
        }
        
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 5px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #5a6fd8;
        }
        
        .btn-secondary {
            background: #6c757d;
        }
        
        .btn-secondary:hover {
            background: #5a6268;
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        
        .toc h3 {
            margin-bottom: 15px;
            color: #667eea;
        }
        
        .toc ul {
            list-style: none;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #333;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 3px;
            transition: background 0.3s;
        }
        
        .toc a:hover {
            background: #667eea;
            color: white;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        .copy-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin-left: 10px;
        }
        
        .copy-btn:hover {
            background: #218838;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> Firefly III éƒ¨ç½²æ•™ç¨‹</h1>
            <p>å¼€æºä¸ªäººè´¢åŠ¡ç®¡ç†ç³»ç»Ÿçš„å®Œæ•´éƒ¨ç½²æŒ‡å—</p>
        </div>

        <div class="toc">
            <h3>ğŸ“‹ ç›®å½•</h3>
            <ul>
                <li><a href="#intro">1. ç³»ç»Ÿä»‹ç»</a></li>
                <li><a href="#prerequisites">2. ç¯å¢ƒè¦æ±‚</a></li>
                <li><a href="#app-key">3. APP_KEY è·å–æ–¹æ³•</a></li>
                <li><a href="#installation">4. å®‰è£…æ­¥éª¤</a></li>
                <li><a href="#configuration">5. é…ç½®è¯´æ˜</a></li>
                <li><a href="#usage">6. ä½¿ç”¨æŒ‡å—</a></li>
                <li><a href="#maintenance">7. ç»´æŠ¤ç®¡ç†</a></li>
                <li><a href="#troubleshooting">8. æ•…éšœæ’é™¤</a></li>
            </ul>
        </div>

        <div class="section" id="intro">
            <h2>1. ç³»ç»Ÿä»‹ç»</h2>
            <p>Firefly III æ˜¯ä¸€ä¸ªå…è´¹ã€å¼€æºçš„ä¸ªäººè´¢åŠ¡ç®¡ç†å·¥å…·ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
            <ul>
                <li>ğŸ“Š å®Œæ•´çš„è´¢åŠ¡è·Ÿè¸ªå’Œç®¡ç†</li>
                <li> å¤šè´¦æˆ·æ”¯æŒï¼ˆé“¶è¡Œã€ç°é‡‘ã€æŠ•èµ„ç­‰ï¼‰</li>
                <li>ğŸ“ˆ è¯¦ç»†çš„æŠ¥è¡¨å’Œåˆ†æ</li>
                <li>ğŸ”„ è‡ªåŠ¨å¯¼å…¥é“¶è¡Œäº¤æ˜“è®°å½•</li>
                <li>ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯</li>
                <li>ğŸ”’ æ•°æ®å®‰å…¨ï¼Œæœ¬åœ°å­˜å‚¨</li>
                <li>ğŸŒ å¤šè¯­è¨€æ”¯æŒ</li>
            </ul>
        </div>

        <div class="section" id="prerequisites">
            <h2>2. ç¯å¢ƒè¦æ±‚</h2>
            
            <h3>ç³»ç»Ÿè¦æ±‚</h3>
            <table class="table">
                <tr>
                    <th>é¡¹ç›®</th>
                    <th>æœ€ä½è¦æ±‚</th>
                    <th>æ¨èé…ç½®</th>
                </tr>
                <tr>
                    <td>æ“ä½œç³»ç»Ÿ</td>
                    <td>Windows 10 / Linux / macOS</td>
                    <td>Windows 11 / Ubuntu 20.04+</td>
                </tr>
                <tr>
                    <td>å†…å­˜</td>
                    <td>2GB RAM</td>
                    <td>4GB+ RAM</td>
                </tr>
                <tr>
                    <td>å­˜å‚¨ç©ºé—´</td>
                    <td>1GB å¯ç”¨ç©ºé—´</td>
                    <td>5GB+ å¯ç”¨ç©ºé—´</td>
                </tr>
                <tr>
                    <td>ç½‘ç»œ</td>
                    <td>æœ¬åœ°ç½‘ç»œè®¿é—®</td>
                    <td>ç¨³å®šçš„ç½‘ç»œè¿æ¥</td>
                </tr>
            </table>

            <h3>å¿…éœ€è½¯ä»¶</h3>
            <div class="step">
                <strong>Docker Desktop</strong>
                <ul>
                    <li>Windows: <a href="https://www.docker.com/products/docker-desktop" target="_blank">ä¸‹è½½ Docker Desktop for Windows</a></li>
                    <li>macOS: <a href="https://www.docker.com/products/docker-desktop" target="_blank">ä¸‹è½½ Docker Desktop for Mac</a></li>
                    <li>Linux: å®‰è£… Docker Engine</li>
                </ul>
            </div>

            <div class="info">
                <strong>ğŸ’¡ æç¤ºï¼š</strong> ç¡®ä¿Docker Desktopå·²å¯åŠ¨å¹¶æ­£å¸¸è¿è¡Œã€‚
            </div>
        </div>

        <div class="section" id="app-key">
            <h2>3. APP_KEY è·å–æ–¹æ³•</h2>
            
            <div class="danger">
                <strong>âš ï¸ é‡è¦æé†’ï¼š</strong> APP_KEY æ˜¯ Firefly III çš„æ ¸å¿ƒå®‰å…¨å¯†é’¥ï¼Œç”¨äºåŠ å¯†æ•æ„Ÿæ•°æ®ã€‚è¯·å¦¥å–„ä¿ç®¡ï¼Œä¸è¦æ³„éœ²ç»™ä»–äººã€‚
            </div>

            <h3>æ–¹æ³•ä¸€ï¼šWindows PowerShell ç”Ÿæˆï¼ˆæ¨èï¼‰</h3>
            <div class="step">
                <strong>æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>æ‰“å¼€ PowerShellï¼ˆä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼‰</li>
                    <li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ç”Ÿæˆ APP_KEYï¼š</li>
                </ol>
            </div>

            <div class="code-block">
                <pre>$rng = New-Object System.Security.Cryptography.RNGCryptoServiceProvider
$bytes = New-Object byte[] 32
$rng.GetBytes($bytes)
$key = [System.Convert]::ToBase64String($bytes)
Write-Host "base64:$key"</pre>
            </div>

            <div class="success">
                <strong>âœ… è¾“å‡ºç¤ºä¾‹ï¼š</strong>
                <code>base64:GOQP81YK/Gf+b53APGN4D2dkFWHkPthNgQdLJHx8+ew=</code>
            </div>

            <h3>æ–¹æ³•äºŒï¼šä½¿ç”¨åœ¨çº¿ç”Ÿæˆå™¨</h3>
            <div class="info">
                <strong>åœ¨çº¿å·¥å…·ï¼š</strong>
                <ul>
                    <li><a href="https://www.base64encode.org/" target="_blank">Base64 ç¼–ç å™¨</a></li>
                    <li><a href="https://www.random.org/strings/" target="_blank">éšæœºå­—ç¬¦ä¸²ç”Ÿæˆå™¨</a></li>
                </ul>
            </div>

            <div class="step">
                <strong>æ‰‹åŠ¨ç”Ÿæˆæ­¥éª¤ï¼š</strong>
                <ol>
                    <li>ç”Ÿæˆ32ä½éšæœºå­—ç¬¦ä¸²</li>
                    <li>ä½¿ç”¨Base64ç¼–ç </li>
                    <li>æ·»åŠ  "base64:" å‰ç¼€</li>
                </ol>
            </div>

            <div class="code-block">
                <pre># ç¤ºä¾‹ï¼šæ‰‹åŠ¨ç”Ÿæˆçš„APP_KEYæ ¼å¼
base64:YourRandom32CharacterStringHere1234567890abcdef=</pre>
            </div>

            <h3>æ–¹æ³•ä¸‰ï¼šä½¿ç”¨ PHP è„šæœ¬ç”Ÿæˆ</h3>
            <div class="code-block">
                <pre># åˆ›å»º generate-key.php æ–‡ä»¶
&lt;?php
$key = base64_encode(random_bytes(32));
echo "base64:" . $key . "\n";
?&gt;

# æ‰§è¡Œè„šæœ¬
php generate-key.php</pre>
            </div>

            <h3>æ–¹æ³•å››ï¼šä½¿ç”¨ OpenSSL å‘½ä»¤ï¼ˆLinux/macOSï¼‰</h3>
            <div class="code-block">
                <pre># Linux/macOS å‘½ä»¤
openssl rand -base64 32</pre>
            </div>

            <h3>éªŒè¯ APP_KEY æ ¼å¼</h3>
            <div class="warning">
                <strong>æ ¼å¼è¦æ±‚ï¼š</strong>
                <ul>
                    <li>å¿…é¡»ä»¥ "base64:" å¼€å¤´</li>
                    <li>åé¢è·Ÿéš32å­—èŠ‚çš„Base64ç¼–ç å­—ç¬¦ä¸²</li>
                    <li>æ€»é•¿åº¦çº¦ä¸º44ä¸ªå­—ç¬¦</li>
                </ul>
            </div>

            <div class="code-block">
                <pre># æ­£ç¡®çš„APP_KEYæ ¼å¼ç¤ºä¾‹
base64:GOQP81YK/Gf+b53APGN4D2dkFWHkPthNgQdLJHx8+ew=
base64:YourGeneratedKeyHere1234567890abcdef=
base64:AnotherRandomKeyExample9876543210zyxwvu=</pre>
            </div>

            <h3>åœ¨ Docker Compose ä¸­ä½¿ç”¨ APP_KEY</h3>
            <div class="code-block">
                <pre>version: '3.8'

services:
  fireflyiii:
    image: fireflyiii/core:latest
    container_name: fireflyiii
    restart: unless-stopped
    environment:
      - APP_KEY=base64:GOQP81YK/Gf+b53APGN4D2dkFWHkPthNgQdLJHx8+ew=  # æ›¿æ¢ä¸ºæ‚¨çš„APP_KEY
      - DB_HOST=db
      - DB_DATABASE=firefly
      - DB_USERNAME=firefly
      - DB_PASSWORD=firefly
      - TZ=Asia/Shanghai
      - TRUSTED_PROXIES=**
    ports:
      - "8081:8080"
    depends_on:
      - db

  db:
    image: mariadb:10.6
    container_name: fireflydb
    restart: unless-stopped
    environment:
      - MYSQL_RANDOM_ROOT_PASSWORD=yes
      - MYSQL_DATABASE=firefly
      - MYSQL_USER=firefly
      - MYSQL_PASSWORD=firefly
    volumes:
      - ./mysql-data:/var/lib/mysql

volumes:
  mysql-data:</pre>
            </div>

            <h3>APP_KEY å®‰å…¨å»ºè®®</h3>
            <div class="danger">
                <strong>ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹ï¼š</strong>
                <ul>
                    <li>æ¯ä¸ªéƒ¨ç½²ç¯å¢ƒä½¿ç”¨å”¯ä¸€çš„ APP_KEY</li>
                    <li>ä¸è¦åœ¨ä»£ç ä»“åº“ä¸­æäº¤çœŸå®çš„ APP_KEY</li>
                    <li>å®šæœŸæ›´æ¢ APP_KEYï¼ˆéœ€è¦é‡æ–°åŠ å¯†æ•°æ®ï¼‰</li>
                    <li>å¤‡ä»½ APP_KEY åˆ°å®‰å…¨ä½ç½®</li>
                    <li>ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶å­˜å‚¨</li>
                </ul>
            </div>

            <h3>æ›´æ¢ APP_KEY</h3>
            <div class="warning">
                <strong>âš ï¸ æ³¨æ„ï¼š</strong> æ›´æ¢ APP_KEY ä¼šå¯¼è‡´å·²åŠ å¯†çš„æ•°æ®æ— æ³•è§£å¯†ï¼Œéœ€è¦é‡æ–°è®¾ç½®ã€‚
            </div>

            <div class="code-block">
                <pre># 1. åœæ­¢æœåŠ¡
docker-compose down

# 2. å¤‡ä»½æ•°æ®ï¼ˆé‡è¦ï¼ï¼‰
tar -czf firefly-backup-$(date +%Y%m%d).tar.gz mysql-data/

# 3. ä¿®æ”¹ docker-compose.yml ä¸­çš„ APP_KEY

# 4. é‡æ–°å¯åŠ¨æœåŠ¡
docker-compose up -d

# 5. é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
docker-compose exec fireflyiii php artisan migrate:fresh --seed</pre>
            </div>
        </div>

        <div class="section" id="installation">
            <h2>4. å®‰è£…æ­¥éª¤</h2>

            <h3>æ­¥éª¤1ï¼šåˆ›å»ºé¡¹ç›®ç›®å½•</h3>
            <div class="code-block">
                <pre># åˆ›å»ºé¡¹ç›®ç›®å½•
mkdir C:\Users\wangs\firefly-iii
cd C:\Users\wangs\firefly-iii</pre>
            </div>

            <h3>æ­¥éª¤2ï¼šç”Ÿæˆ APP_KEY</h3>
            <div class="code-block">
                <pre># åœ¨ PowerShell ä¸­æ‰§è¡Œ
$rng = New-Object System.Security.Cryptography.RNGCryptoServiceProvider
$bytes = New-Object byte[] 32
$rng.GetBytes($bytes)
$key = [System.Convert]::ToBase64String($bytes)
Write-Host "base64:$key"</pre>
            </div>

            <h3>æ­¥éª¤3ï¼šåˆ›å»ºDockeré…ç½®æ–‡ä»¶</h3>
            <div class="code-block">
                <pre># åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼Œä½¿ç”¨ç”Ÿæˆçš„ APP_KEY
version: '3.8'

services:
  fireflyiii:
    image: fireflyiii/core:latest
    container_name: fireflyiii
    restart: unless-stopped
    environment:
      - APP_KEY=base64:GOQP81YK/Gf+b53APGN4D2dkFWHkPthNgQdLJHx8+ew=  # æ›¿æ¢ä¸ºæ‚¨çš„APP_KEY
      - DB_HOST=db
      - DB_DATABASE=firefly
      - DB_USERNAME=firefly
      - DB_PASSWORD=firefly
      - TZ=Asia/Shanghai
      - TRUSTED_PROXIES=**
    ports:
      - "8081:8080"
    depends_on:
      - db

  db:
    image: mariadb:10.6
    container_name: fireflydb
    restart: unless-stopped
    environment:
      - MYSQL_RANDOM_ROOT_PASSWORD=yes
      - MYSQL_DATABASE=firefly
      - MYSQL_USER=firefly
      - MYSQL_PASSWORD=firefly
    volumes:
      - ./mysql-data:/var/lib/mysql

volumes:
  mysql-data:</pre>
            </div>

            <h3>æ­¥éª¤4ï¼šå¯åŠ¨æœåŠ¡</h3>
            <div class="code-block">
                <pre># åœ¨é¡¹ç›®ç›®å½•ä¸­æ‰§è¡Œ
docker-compose up -d</pre>
            </div>

            <div class="success">
                <strong>âœ… æˆåŠŸï¼</strong> Firefly III å·²æˆåŠŸå¯åŠ¨ï¼Œè®¿é—®åœ°å€ï¼š<a href="http://localhost:8081" target="_blank">http://localhost:8081</a>
            </div>
        </div>

        <div class="section" id="configuration">
            <h2>5. é…ç½®è¯´æ˜</h2>

            <h3>ç¯å¢ƒå˜é‡è¯´æ˜</h3>
            <table class="table">
                <tr>
                    <th>å˜é‡å</th>
                    <th>è¯´æ˜</th>
                    <th>é»˜è®¤å€¼</th>
                    <th>æ˜¯å¦å¿…éœ€</th>
                </tr>
                <tr>
                    <td>APP_KEY</td>
                    <td>åº”ç”¨åŠ å¯†å¯†é’¥</td>
                    <td>æ— </td>
                    <td><span class="highlight">å¿…éœ€</span></td>
                </tr>
                <tr>
                    <td>DB_HOST</td>
                    <td>æ•°æ®åº“ä¸»æœº</td>
                    <td>db</td>
                    <td>å¿…éœ€</td>
                </tr>
                <tr>
                    <td>DB_DATABASE</td>
                    <td>æ•°æ®åº“åç§°</td>
                    <td>firefly</td>
                    <td>å¿…éœ€</td>
                </tr>
                <tr>
                    <td>DB_USERNAME</td>
                    <td>æ•°æ®åº“ç”¨æˆ·å</td>
                    <td>firefly</td>
                    <td>å¿…éœ€</td>
                </tr>
                <tr>
                    <td>DB_PASSWORD</td>
                    <td>æ•°æ®åº“å¯†ç </td>
                    <td>firefly</td>
                    <td>å¿…éœ€</td>
                </tr>
                <tr>
                    <td>TZ</td>
                    <td>æ—¶åŒºè®¾ç½®</td>
                    <td>Asia/Shanghai</td>
                    <td>å¯é€‰</td>
                </tr>
                <tr>
                    <td>TRUSTED_PROXIES</td>
                    <td>ä¿¡ä»»çš„ä»£ç†æœåŠ¡å™¨</td>
                    <td>**</td>
                    <td>å¯é€‰</td>
                </tr>
            </table>

            <h3>ç«¯å£é…ç½®</h3>
            <div class="info">
                <strong>å½“å‰é…ç½®ï¼š</strong> å¤–éƒ¨ç«¯å£ 8081 æ˜ å°„åˆ°å®¹å™¨å†…éƒ¨ç«¯å£ 8080
            </div>

            <div class="code-block">
                <pre># å¦‚éœ€ä¿®æ”¹ç«¯å£ï¼Œç¼–è¾‘ docker-compose.yml ä¸­çš„ ports é…ç½®
ports:
  - "8082:8080"  # æ”¹ä¸º 8082 ç«¯å£</pre>
            </div>

            <h3>æ•°æ®æŒä¹…åŒ–</h3>
            <div class="step">
                <strong>æ•°æ®å­˜å‚¨ä½ç½®ï¼š</strong> <code>C:\Users\wangs\firefly-iii\mysql-data</code>
                <ul>
                    <li>æ•°æ®åº“æ–‡ä»¶è‡ªåŠ¨ä¿å­˜åœ¨æ­¤ç›®å½•</li>
                    <li>å®¹å™¨é‡å¯åæ•°æ®ä¸ä¼šä¸¢å¤±</li>
                    <li>å»ºè®®å®šæœŸå¤‡ä»½æ­¤ç›®å½•</li>
                </ul>
            </div>
        </div>

        <div class="section" id="usage">
            <h2>6. ä½¿ç”¨æŒ‡å—</h2>

            <h3>é¦–æ¬¡è®¿é—®</h3>
            <div class="step">
                <ol>
                    <li>æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š<a href="http://localhost:8081" target="_blank">http://localhost:8081</a></li>
                    <li>ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆï¼ˆé¦–æ¬¡å¯åŠ¨å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰</li>
                    <li>æŒ‰ç…§å‘å¯¼å®Œæˆåˆå§‹è®¾ç½®</li>
                    <li>åˆ›å»ºç®¡ç†å‘˜è´¦æˆ·</li>
                </ol>
            </div>

            <h3>åŸºæœ¬åŠŸèƒ½</h3>
            <table class="table">
                <tr>
                    <th>åŠŸèƒ½æ¨¡å—</th>
                    <th>è¯´æ˜</th>
                </tr>
                <tr>
                    <td>ğŸ“Š ä»ªè¡¨æ¿</td>
                    <td>æŸ¥çœ‹è´¢åŠ¡æ¦‚è§ˆå’Œç»Ÿè®¡ä¿¡æ¯</td>
                </tr>
                <tr>
                    <td>ğŸ’° è´¦æˆ·</td>
                    <td>ç®¡ç†é“¶è¡Œè´¦æˆ·ã€ç°é‡‘è´¦æˆ·ç­‰</td>
                </tr>
                <tr>
                    <td>ğŸ“ äº¤æ˜“</td>
                    <td>è®°å½•æ”¶å…¥ã€æ”¯å‡ºå’Œè½¬è´¦</td>
                </tr>
                <tr>
                    <td>ğŸ·ï¸ åˆ†ç±»</td>
                    <td>è®¾ç½®äº¤æ˜“åˆ†ç±»å’Œæ ‡ç­¾</td>
                </tr>
                <tr>
                    <td>ğŸ“ˆ æŠ¥è¡¨</td>
                    <td>ç”Ÿæˆè¯¦ç»†çš„è´¢åŠ¡æŠ¥è¡¨</td>
                </tr>
                <tr>
                    <td>âš™ï¸ è®¾ç½®</td>
                    <td>ç³»ç»Ÿé…ç½®å’Œç”¨æˆ·ç®¡ç†</td>
                </tr>
            </table>

            <h3>æ•°æ®å¯¼å…¥</h3>
            <div class="info">
                <strong>æ”¯æŒçš„æ–‡ä»¶æ ¼å¼ï¼š</strong>
                <ul>
                    <li>CSV æ–‡ä»¶</li>
                    <li>QIF æ–‡ä»¶</li>
                    <li>OFX æ–‡ä»¶</li>
                </ul>
            </div>
        </div>

        <div class="section" id="maintenance">
            <h2>7. ç»´æŠ¤ç®¡ç†</h2>

            <h3>å¸¸ç”¨å‘½ä»¤</h3>
            <div class="code-block">
                <pre># æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f fireflyiii

# åœæ­¢æœåŠ¡
docker-compose down

# é‡å¯æœåŠ¡
docker-compose restart

# æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬
docker-compose pull
docker-compose up -d

# å¤‡ä»½æ•°æ®
tar -czf firefly-backup-$(date +%Y%m%d).tar.gz mysql-data/

# æ¢å¤æ•°æ®
tar -xzf firefly-backup-20231201.tar.gz</pre>
            </div>

            <h3>æ•°æ®å¤‡ä»½</h3>
            <div class="warning">
                <strong>âš ï¸ é‡è¦ï¼š</strong> å®šæœŸå¤‡ä»½æ•°æ®ç›®å½•ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚
            </div>

            <div class="step">
                <strong>å¤‡ä»½æ­¥éª¤ï¼š</strong>
                <ol>
                    <li>åœæ­¢æœåŠ¡ï¼š<code>docker-compose down</code></li>
                    <li>å¤‡ä»½æ•°æ®ç›®å½•ï¼š<code>mysql-data/</code></li>
                    <li>é‡å¯æœåŠ¡ï¼š<code>docker-compose up -d</code></li>
                </ol>
            </div>

            <h3>æ€§èƒ½ä¼˜åŒ–</h3>
            <div class="info">
                <strong>ä¼˜åŒ–å»ºè®®ï¼š</strong>
                <ul>
                    <li>å®šæœŸæ¸…ç†æ—¥å¿—æ–‡ä»¶</li>
                    <li>ç›‘æ§ç£ç›˜ç©ºé—´ä½¿ç”¨</li>
                    <li>è®¾ç½®è‡ªåŠ¨å¤‡ä»½è„šæœ¬</li>
                    <li>å®šæœŸæ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</li>
                </ul>
            </div>
        </div>

        <div class="section" id="troubleshooting">
            <h2>8. æ•…éšœæ’é™¤</h2>

            <h3>å¸¸è§é—®é¢˜</h3>
            
            <h4>é—®é¢˜1ï¼šAPP_KEY ç›¸å…³é”™è¯¯</h4>
            <div class="step">
                <strong>é”™è¯¯ä¿¡æ¯ï¼š</strong> "No application encryption key has been specified"
                <br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
                <ol>
                    <li>æ£€æŸ¥ docker-compose.yml ä¸­çš„ APP_KEY æ˜¯å¦æ­£ç¡®è®¾ç½®</li>
                    <li>é‡æ–°ç”Ÿæˆ APP_KEYï¼šä½¿ç”¨ PowerShell å‘½ä»¤</li>
                    <li>æ›´æ–°é…ç½®æ–‡ä»¶å¹¶é‡å¯æœåŠ¡</li>
                </ol>
            </div>

            <h4>é—®é¢˜2ï¼šæ— æ³•è®¿é—®ç½‘ç«™</h4>
            <div class="step">
                <strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
                <ol>
                    <li>æ£€æŸ¥Dockeræ˜¯å¦è¿è¡Œï¼š<code>docker --version</code></li>
                    <li>æ£€æŸ¥å®¹å™¨çŠ¶æ€ï¼š<code>docker-compose ps</code></li>
                    <li>æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š<code>docker-compose logs fireflyiii</code></li>
                    <li>æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨</li>
                </ol>
            </div>

            <h4>é—®é¢˜3ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥</h4>
            <div class="step">
                <strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
                <ol>
                    <li>æ£€æŸ¥æ•°æ®åº“å®¹å™¨çŠ¶æ€</li>
                    <li>æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—ï¼š<code>docker-compose logs db</code></li>
                    <li>é‡å¯æ•°æ®åº“æœåŠ¡ï¼š<code>docker-compose restart db</code></li>
                    <li>æ£€æŸ¥æ•°æ®ç›®å½•æƒé™</li>
                </ol>
            </div>

            <h4>é—®é¢˜4ï¼šæ•°æ®ä¸¢å¤±</h4>
            <div class="warning">
                <strong>ç´§æ€¥å¤„ç†ï¼š</strong>
                <ol>
                    <li>ç«‹å³åœæ­¢æœåŠ¡</li>
                    <li>æ£€æŸ¥æ•°æ®ç›®å½•æ˜¯å¦å­˜åœ¨</li>
                    <li>ä»å¤‡ä»½æ¢å¤æ•°æ®</li>
                    <li>è”ç³»æŠ€æœ¯æ”¯æŒ</li>
                </ol>
            </div>

            <h3>æ—¥å¿—åˆ†æ</h3>
            <div class="code-block">
                <pre># æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡çš„æ—¥å¿—
docker-compose logs fireflyiii
docker-compose logs db

# æŸ¥çœ‹æœ€è¿‘çš„æ—¥å¿—
docker-compose logs --tail=100 fireflyiii</pre>
            </div>

            <h3>é‡ç½®ç³»ç»Ÿ</h3>
            <div class="danger">
                <strong>âš ï¸ å±é™©æ“ä½œï¼š</strong> è¿™å°†åˆ é™¤æ‰€æœ‰æ•°æ®ï¼
            </div>
            <div class="code-block">
                <pre># å®Œå…¨é‡ç½®ï¼ˆåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰
docker-compose down -v
rm -rf mysql-data/
docker-compose up -d</pre>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ“ æŠ€æœ¯æ”¯æŒ</h2>
            <p>å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š</p>
            <ul>
                <li>ğŸ“– æŸ¥çœ‹ <a href="https://docs.firefly-iii.org/" target="_blank">å®˜æ–¹æ–‡æ¡£</a></li>
                <li>ğŸ’¬ è®¿é—® <a href="https://github.com/firefly-iii/firefly-iii" target="_blank">GitHub é¡¹ç›®</a></li>
                <li>ğŸ”§ æŸ¥çœ‹ <a href="https://github.com/firefly-iii/firefly-iii/issues" target="_blank">é—®é¢˜åé¦ˆ</a></li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ‰ æ­å–œï¼</h2>
            <p>æ‚¨å·²æˆåŠŸéƒ¨ç½² Firefly III ä¸ªäººè´¢åŠ¡ç®¡ç†ç³»ç»Ÿï¼</p>
            <p>ç°åœ¨å¯ä»¥å¼€å§‹ç®¡ç†æ‚¨çš„ä¸ªäººè´¢åŠ¡äº†ã€‚</p>
            <div style="text-align: center; margin-top: 30px;">
                <a href="http://localhost:8081" class="btn" target="_blank"> ç«‹å³è®¿é—® Firefly III</a>
            </div>
        </div>
    </div>

    <script>
        // å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(element) {
            const codeBlock = element.previousElementSibling;
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(function() {
                const btn = element;
                const originalText = btn.textContent;
                btn.textContent = 'å·²å¤åˆ¶ï¼';
                btn.style.background = '#28a745';
                
                setTimeout(function() {
                    btn.textContent = originalText;
                    btn.style.background = '#28a745';
                }, 2000);
            }).catch(function(err) {
                console.error('å¤åˆ¶å¤±è´¥: ', err);
                alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶');
            });
        }
        
        // ä¸ºæ‰€æœ‰ä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’®
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('.code-block');
            codeBlocks.forEach(function(block) {
                const copyBtn = document.createElement('button');
                copyBtn.className = 'copy-btn';
                copyBtn.textContent = 'å¤åˆ¶';
                copyBtn.onclick = function() { copyCode(this); };
                block.appendChild(copyBtn);
            });
        });
    </script>
</body>
</html>